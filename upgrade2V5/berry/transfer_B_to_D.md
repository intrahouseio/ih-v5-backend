# Перенос данных проектов 3.x Berry -> 5.0

## Устройства и связанные с ними таблицы

### devref

## Сценарии 

Сценарии были 4 видов:
  1. шаблонные (мультсценарии) - папка  scenepat на уровне системы, файлы *.pat
  2. сценарии проекта - папка  scenebase в папке проекта, файлы *.json
  3. сценарии по событиям - файл jbase/onscen.json
  4. сценарии интерактивные - файл jbase/linescen.json

### Cценарии интерактивные - jbase/linescen.json

```
[
 {
    "num": 3,
    "name": "Перезагрузка роутеров",
    "group": 2,
    "img": "3041.png",
    "pwneed": 1,
    "order": 3,
    "exec": { "do": "#RESET_3G.on#RESET_SL100.on" },
    "lastedit": "01.09.2018 14:49:28"
  },
  {
    "num": 11,
    "name": "Дача - Приехал",
    "group": 1,
    "img": "1011.png",
    "pwneed": 0,
    "order": 9,
    "exec": {
      "do": "#REGIM:0#LIGHT.on#COOKER.on#SAUNA.on#KOTEL_OFF.auto:1#ALL.auto:1?subsystem=2&place=1&type=610#TZ.auto:1#ELTPOL.auto:1#DELAY.1#BOILER2.on#Guard_Dachia.off",
      "wri": "Выполнение сценария \"Дача - Приехал\"",
      "sms": "OWNER,PARENTS#Здравствуй, хозяин.   С прибытием.  Чтобы подать воду нажми \"Подача воды в систему\""
    },
    "comment": "Вода не подается",
    "lastedit": "24.02.2020 11:43:59"
  },
  {
    "num": 41,
    "name": "Баня - выключить весь свет на 1 и 2 этаже",
    "comment": "для сценарного выключателя и не только",
    "group": 4,
    "img": "3130.png",
    "pwneed": 0,
    "order": 10,
    "exec": {
      "do": "#ALL.off?subsystem=1&place=3&type=510#ALL.off?subsystem=1&place=3&type=520",
      "wri": "Выключаю весь свет на 1 и 2 этаже баня - по сценарию"
    },
    "lastedit": "29.01.2020 01:29:17"
  },
  {
    "num": 33,
    "name": "Показания счетчиков д.49 НОВЫЙ FRESH отправить по мейл",
    "comment": "Введен, так как старые сценарии не посылают на правильный адрес",
    "group": 5,
    "img": "9130.png",
    "pwneed": 0,
    "order": 17,
    "exec": {
      "do": "",
      "email": "ELECTROSET#Сиверский Солнечная 49  л.сч. 902938 день <METER1.aval> ночь <METER1.aval2>",
      "wri": "Показания счетчиков отправлены по е-мейл новым способом"
    },
    "lastedit": "13.09.2019 20:40:16"
  },

```

Перенос каждого элемента как отдельный файл сценария, группа - папка Интерактивные+внутри группа? Или наоборот? Или 1 уровень - группы сценариев

exec внутрь start:
  email -> this.info();
  sms -> this.info();
  wri -> this.log();
  do -> отдельные команды устройств

**!!!ПОКА НЕТ концепции групповых команд - как их переносить???**

ALL пока пропускается
  






