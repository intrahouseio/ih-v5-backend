{
  "grid": [
   
    { "id": "p1", "xs": 12, "class": "main", "table": "typepropalertSelector", "hide": "1==1" },
    { "id": "p2", "xs": 12, "class": "main", "table": "typepropalertTable", "height": 300, "hide": "data.p1.vtype!='B'" },
    { "id": "p3", "xs": 12, "class": "main", "table": "typepropalertTable", "height": 300, "hide": "data.p1.vtype!='N'" }
  ],
  "spacing": 10,

  "p1": [
    { "prop": "vtype", "title": "Тип переменной (N,B,S)", "type": "text"},
    { "prop": "ale", "title": "Включена тревога", "type": "text"}
  ],

  "p2": [
    {
      "title": "",
      "type": "table",
      "prop": "typepropalertTable_B",

      "columns": [
        { "prop": "id", "title": "", "type": "txt", "width": 5, "hide":"1==1" },
        { "prop": "title", "title": "", "type": "txt", "width": 150 },
        { "prop": "theval", "title": "При значении", "type": "input", "width": 64 },
        { "prop": "message", "title": "Сообщение", "type": "input", "width": 64 },
        {
          "prop": "level",
          "title": "$Level",
          "type": "droplist",
          "data": [
            { "id": 0, "title": "Норма" },
            { "id": 1, "title": "Предупреждение" },
            { "id": 2, "title": "Авария" }
          ],
          "hide": "data.id == 'B_0'",
          "width": 100
        },
        { "prop": "delay", "title": "Задержка (сек)", "type": "number", "width": 80 },
        {
          "prop": "toClose",
          "title": "Закрытие",
          "type": "droplist",
          "data": [
            { "id": "norm", "title": "При нормализации" },
            { "id": "ack", "title": "При квитировании" },
            { "id": "normAndAck", "title": "При квитировании+нормализации" }
          ],
          "hide": "data.id == 'B_0'",
          "width": 250
        },
        { "prop": "info", "title": "Правило информирования", "type": "droplist", "data":"inforuleList", "width": 250 }
      ]
    }
  ],
  "p3": [
    {
      "title": "",
      "type": "table",
      "prop": "typepropalertTable_N",

      "columns": [
       
        { "prop": "id", "title": "", "type": "txt", "width": 50, "hide":"1==1" },
        { "prop": "title", "title": "", "type": "txt", "width": 150 },
        { "prop": "use", "title": "Использовать", "type": "cb", "width": 100, "hide": "data.id == 'N_0'"  },
        { "prop": "theval", "title": "При значении", "type": "input", "width": 250, "hide": "!data.use || data.id == 'N_0'" },
        { "prop": "message", "title": "Сообщение нестандартное", "type": "input", "width": 250,  "hide": "!data.use && data.id != 'N_0'" },
       
        { "prop": "delay", "title": "Время фиксации (сек)", "type": "number", "width": 80, "hide": "!data.use" },
        {
          "prop": "toClose",
          "title": "Закрытие",
          "type": "droplist",
          "data": [
            { "id": "norm", "title": "При нормализации" },
            { "id": "ack", "title": "При квитировании" },
            { "id": "normAndAck", "title": "При квитировании+нормализации" }
          ],
          "hide": "!data.use || data.id == 'N_0'",
          "width": 350
        },
        
        { "prop": "info", "title": "Правило информирования", "type": "droplist", "data":"inforuleList", "width": 250 }
      ]
    }
  ]
}
